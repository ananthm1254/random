import numpy as np
def steady_state_prop(
   p = np.matrix([
             [0,.2,.4,.4],
             [.2,0,.4,.4],
             [.3,.3,0,.5],
             [.3,.4,.3,0]
             ])):
   dim = p.shape[0]
   q = (p-np.eye(dim))
   ones = np.ones(dim)
   q =np.c_[q,ones]
   QTQ = np.dot(q,q.T)
   bTQ = np.ones(dim)
   return np.linalg.solve(QTQ,bTQ)
P = np.matrix([[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
              [0.25,0.5,0,0,0,0.125,0.125,0,0,0,0,0,0,0,0,0],
              [0.25,0,0.5,0,0,0.125,0,0.125,0,0,0,0,0,0,0,0],
              [0.25,0,0,0.5,0,0,0,0.125,0.125,0,0,0,0,0,0,0],
              [0.25,0,0,0,0.5,0,0.125,0,0.125,0,0,0,0,0,0,0],
              [0,0.125,0.125,0,0,0.5,0,0,0,0,0,0,0,0.125,0.125,0],
              [0,0.125,0,0,0.125,0,0.5,0,0,0,0,0.125,0,0,0.125,0],
              [0,0,0.125,0.125,0,0,0,0.5,0,0,0,0,0.125,0.125,0,0],
              [0,0,0,0.125,0.125,0,0,0,0.5,0,0,0.125,0.125,0,0,0],
              [0,0,0.25,0,0.25,0,0,0,0,0,0,0,0.25,0,0.25,0],
              [0,0.25,0,0.25,0,0,0,0,0,0,0,0.25,0,0.25,0,0],
              [0,0,0,0,0,0,0,0.125,0,0.125,0,0.5,0,0,0,0.25],
              [0,0,0,0,0,0,0,0.125,0.125,0,0,0,0.5,0,0,0.25],
              [0,0,0,0,0,0,0,0,0.125,0,0.125,0,0,0.5,0,0.25],
              [0,0,0,0,0,0,0,0,0,0.125,0.125,0,0,0,0.5,0.25],
              [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1.0]])  
print steady_state_prop(P)
